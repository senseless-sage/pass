:root {
    --stepper-margin-top: 1em;
    --stepper-margin-bottom: 2em;
}

x-steps {
    display: flex;
    flex-flow: row wrap;

    &>input[type=radio].stepper {
        display: flex;
        place-content: center;
        position: relative;
        width: clamp(1.5rem, 5vw, 3rem);
        height: clamp(1.5rem, 5vw, 3rem);
        margin-top: var(--stepper-margin-top);
        margin-bottom: var(--stepper-margin-bottom);
        border: var(--primary-border-width) solid var(--secondary-outline-color);
        border-radius: 50%;
        padding: var(--spacing-m);
        appearance: none;
        background-color: var(--surface-container-low-color);
        color: var(--on-surface-container-low-color);
        cursor: pointer;


        &:first-of-type {
            margin-left: calc(var(--spacing-xl) * 2);
        }

        &:last-of-type {
            margin-right: calc(var(--spacing-xl) * 2);
        }

        &:not(:checked) {

            &:hover {
                background-color: var(--hover-color);
                color: var(--on-secondary-color);
            }

            &+x-step {
                display: none;
            }
        }

        &:checked,
        &:has(~.stepper:checked) {
            background-color: var(--primary-color);
            color: var(--on-primary-color);
        }

        &:checked+x-step {
            width: 100%;
            order: 99;
        }

        &::before {
            position: absolute;
            align-self: center;
        }

        &:not(.icon)::before {
            content: var(--label);
        }

        &::after {
            content: var(--title);
            position: absolute;
            top: 110%;
            width: max-content;
            font-family: sans-serif;
            font-weight: normal;
            color: var(--on-surface-color);
        }
    }
}

x-step-divider {
    flex: 1;
    align-self: center;
    margin: 0 calc(var(--stepper-margin-top) / 2);
    margin-bottom: calc(var(--stepper-margin-bottom) / 2);
    padding: 2px;
    border: var(--primary-border-width) solid var(--secondary-outline-color);
    border-radius: 4px;
    background-color: var(--surface-container-low-color);

    &:has(~.stepper:checked) {
        background-color: var(--primary-color);
    }
}