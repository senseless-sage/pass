import{c as T} from"../../../../../../node_modules/sage-ui/js/page/controller-loader.js";import{d as W,e as X} from"../../../../../../chunk-c3d74745e3176616.js";import{f as q,g as V,i as M,j as z,r as N} from"../../../../../../chunk-a62be0be57ea1c00.js";import"../../../../../../chunk-0f36676b13b949b7.js";async function H(O,Y){let x,f;const B=q("version"),F=q("length"),J=q("user"),K=q("pwd"),Q=[];window.onpageshow=(j)=>{if(O===void 0)M("/");if(!j.persisted)B.addEventListener("input",()=>f.settings.version=Number(B.value)),F.addEventListener("input",()=>f.settings.length=Number(F.value)),J.addEventListener("input",()=>f.settings.userName=J.value),K.addEventListener("input",()=>f.settings.customPwd=K.value),q("back").addEventListener("click",()=>history.back()),q("delete").addEventListener("click",b),x=X.toUser(O),f=x.accounts[x.accounts.findIndex((y)=>y.name===Y.get("account"))],f.settings=W(f.settings,[()=>N(x)]),Z(),_()},window.onpagehide=await T();function Z(){for(let j of z.keys()){const y=V(`<div>
                    <input type="radio" id="${j}" name="specialCharGroup" value="${j}"/>
                    <label for="${j}">${j}</label>
                </div>`),L=y.firstElementChild;q("specialCharGroup").append(y),L.addEventListener("input",()=>f.settings.specialChar=z.valueOf(L.value)),Q.push(L)}}function _(){B.value=String(f.settings.version),F.value=String(f.settings.length),J.value=f.settings.userName?f.settings.userName:"",K.value=f.settings.customPwd?f.settings.customPwd:"";for(let j of Q)if(j.id===z.keyOf(f.settings.specialChar))j.checked=!0}function b(){if(!confirm(`Delete ${f.name}?`))return;x.accounts.splice(x.accounts.indexOf(f),1),N(x),M("/accounts")}}export{H as default};
